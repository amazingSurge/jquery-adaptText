{"version":3,"sources":["jquery-adaptText.es.js"],"names":["global","factory","define","amd","exports","mod","jqueryAdaptTextEs","this","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","$","throttle","func","wait","_this","_now","Date","now","getTime","timeout","context","args","result","previous","later","apply","_len","arguments","params","Array","_key","remaining","clearTimeout","setTimeout","hasOwnProperty","DEFAULTS","compression","max","Number","POSITIVE_INFINITY","min","NEGATIVE_INFINITY","scrollable","scrollSpeed","scrollResetSpeed","onResizeEvent","instances","viewportWidth","window","width","adaptText","element","options","$element","extend","data","isDisabled","_init","value","resize","_scrollOnHover","push","_trigger","that","css","overflow","text-overflow","white-space","hover","distance","scrollWidth","Math","sqrt","stop","animate","text-indent","floor","parseFloat","eventType","_len2","_key2","concat","trigger","NAMESPACE$1","onFunction","replace","word","substring","toUpperCase","force","each","isPlainObject","addEventListener","attachEvent"],"mappings":"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","file":"jquery-adaptText.min.js","sourcesContent":["/**\n* jQuery AdaptText v1.3.3\n* https://github.com/amazingSurge/jquery-adaptText\n*\n* Copyright (c) amazingSurge\n* Released under the LGPL-3.0 license\n*/\n(function ($) {\n'use strict';\n\n$ = $ && $.hasOwnProperty('default') ? $['default'] : $;\n\nvar DEFAULTS = {\n  compression: 10,\n  max: Number.POSITIVE_INFINITY,\n  min: Number.NEGATIVE_INFINITY,\n  scrollable: false,\n  scrollSpeed: 1000,\n  scrollResetSpeed: 300,\n  onResizeEvent: true\n};\n\nfunction throttle(func, wait) {\n  const _now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  let timeout;\n  let context;\n  let args;\n  let result;\n  let previous = 0;\n  let later = function() {\n    previous = _now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) {\n      context = args = null;\n    }\n  };\n\n  return (...params) => {\n    /*eslint consistent-this: \"off\"*/\n    let now = _now();\n    let remaining = wait - (now - previous);\n    context = this;\n    args = params;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) {\n        context = args = null;\n      }\n    } else if (!timeout) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\n\nconst NAMESPACE$1 = 'adaptText';\n\nconst instances = [];\nlet viewportWidth = $(window).width();\n\n/**\n * Plugin constructor\n **/\nclass adaptText {\n  constructor(element, options) {\n    this.element = element;\n    this.$element = $(element);\n\n    // options\n    this.options = $.extend(true, {}, DEFAULTS, options, this.$element.data());\n\n    this.width = this.$element.width();\n\n    this.isDisabled = false;\n\n    this._init();\n  }\n\n  _init() {\n    this.resize();\n\n    if (this.options.scrollable) {\n      this._scrollOnHover();\n    }\n\n    instances.push(this);\n\n    this._trigger('ready');\n  }\n\n  _scrollOnHover() {\n    /* eslint consistent-return: \"off\" */\n    const that = this;\n\n    this.$element.css({\n      'overflow': 'hidden',\n      'text-overflow': 'ellipsis',\n      'white-space': 'nowrap'\n    });\n    this.$element.hover(() => {\n      const distance = that.element.scrollWidth - that.$element.width();\n\n      if (distance > 0) {\n        const scrollSpeed = Math.sqrt(distance / that.width) * that.options.scrollSpeed;\n\n        that.$element.css('cursor', 'e-resize');\n        return that.$element.stop().animate({\n          \"text-indent\": -distance\n        }, scrollSpeed, () => that.$element.css('cursor', 'text'));\n      }\n    }, () => that.$element.stop().animate({\n      \"text-indent\": 0\n    }, that.options.scrollResetSpeed));\n  }\n\n  resize() {\n    if(this.isDisabled === true) {\n      return;\n    }\n    this.width = this.$element.width();\n    if (this.width === 0) {\n      return;\n    }\n\n    this.$element.css('font-size', Math.floor(Math.max(\n      Math.min(this.width / (this.options.compression), parseFloat(this.options.max)),\n      parseFloat(this.options.min)\n    )));\n  }\n\n  enable() {\n    if (this.isDisabled === true) {\n      this.isDisabled = false;\n    }\n\n    this._trigger('enable');\n  }\n\n  disable() {\n    if (this.isDisabled === false) {\n      this.isDisabled = true;\n    }\n\n    this._trigger('disable');\n  }\n\n  _trigger(eventType, ...params) {\n    let data = [this].concat(params);\n\n    // event\n    this.$element.trigger(`${NAMESPACE$1}::${eventType}`, data);\n\n    // callback\n    eventType = eventType.replace(/\\b\\w+\\b/g, (word) => {\n      return word.substring(0, 1).toUpperCase() + word.substring(1);\n    });\n    let onFunction = `on${eventType}`;\n\n    if (typeof this.options[onFunction] === 'function') {\n      this.options[onFunction].apply(this, params);\n    }\n  }\n\n  static resize(force) {\n    if (!force && $(window).width() === viewportWidth) {\n      return;\n    }\n    viewportWidth = $(window).width();\n\n    $.each(instances, function() {\n      if (this.options.onResizeEvent) {\n        this.resize();\n      }\n    });\n  }\n\n  static setDefaults(options) {\n    $.extend(DEFAULTS, $.isPlainObject(options) && options);\n  }\n}\n\nif (window.addEventListener) {\n  window.addEventListener(\"resize\", throttle(adaptText.resize, 200), false);\n} else if (window.attachEvent) {\n  window.attachEvent(\"onresize\", throttle(adaptText.resize, 200));\n}\n\nvar info = {\n  version:'1.3.3'\n};\n\nconst NAMESPACE = 'adaptText';\nconst OtherAdaptText = $.fn.adaptText;\n\nconst jQueryAdaptText = function(options, ...args) {\n  if (typeof options === 'string') {\n    const method = options;\n\n    if (/^_/.test(method)) {\n      return false;\n    } else if ((/^(get)/.test(method))) {\n      const instance = this.first().data(NAMESPACE);\n      if (instance && typeof instance[method] === 'function') {\n        return instance[method](...args);\n      }\n    } else {\n      return this.each(function() {\n        const instance = $.data(this, NAMESPACE);\n        if (instance && typeof instance[method] === 'function') {\n          instance[method](...args);\n        }\n      });\n    }\n  }\n\n  return this.each(function() {\n    if (!$(this).data(NAMESPACE)) {\n      $(this).data(NAMESPACE, new adaptText(this, options));\n    }\n  });\n};\n\n$.fn.adaptText = jQueryAdaptText;\n\n$.adaptText = $.extend({\n  setDefaults: adaptText.setDefaults,\n  noConflict: function() {\n    $.fn.adaptText = OtherAdaptText;\n    return jQueryAdaptText;\n  }\n}, info);\n\n}(jQuery));\n"]}